import{g as u}from"./33asDSbG.js";import{w}from"./DK4XfJsk.js";function v(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}const g=w([]),p=w({offset:0,duration:500,passive:!1,easing:v,onStart:()=>{},onDone:()=>{}}),y=u(p),h=()=>y,E=e=>e.replace(/[^A-Z0-9]/gi,"").toLowerCase(),L=(e,n)=>{const t=e.find(s=>s.reference===n);return t?t.node:document.getElementById(n)},x=e=>({y:e.offsetTop,x:e.offsetLeft}),l=(e,n,t,s,o)=>t>s?n:e+(n-e)*o(t/s),O=async(e,n)=>new Promise(t=>{const{start:s,end:o,duration:a,easing:c}=e,f=Date.now();let i=()=>{const r=Date.now()-f,d=l(s.x,o.x,r,a,c),m=l(s.y,o.y,r,a,c);if(n({x:d,y:m}),r>a)return t();window.requestAnimationFrame(i)};window.addEventListener("wheel",function r(){i=()=>{},window.removeEventListener("wheel",r)}),window.requestAnimationFrame(i)}),b=async(e,n)=>{const{duration:t,easing:s,offset:o}=n,a=window.pageYOffset,c=window.pageXOffset,f=e.x+o,i=e.y+o;await O({start:{x:c,y:a},end:{x:f,y:i},duration:t,easing:s},r=>{window.scroll(r.x,r.y)})},A=u(g),T=async(e,n)=>{n.passive||e.preventDefault();const{ref:t,onDone:s,onStart:o}=n,a=n.duration,c=n.offset,f=n.easing,i=L(A,t);if(!i)throw new Error(`Element reference '${t}' not found`);const r=x(i);o==null||o({element:i,offset:c,duration:a,endPosition:r}),await b(r,{duration:a,offset:c,easing:f}),s==null||s({element:i,offset:c,duration:a,endPosition:r})},P=(e,n)=>{if(!n)throw new Error("scrollTo require a options");let t=Object.assign({ref:""},h());if(typeof n=="string"?t.ref=n:t=Object.assign(t,n),t.ref=E(t.ref),!t.ref)throw new Error("scrollTo require a reference");e instanceof HTMLAnchorElement&&(e.href=`#${t.ref}`),e instanceof HTMLAnchorElement||(e.style.cursor="pointer");const s=o=>T(o,t);return e.addEventListener("click",s,{passive:t.passive}),e.addEventListener("touchstart",s,{passive:t.passive}),{destroy(){e.removeEventListener("click",s),e.removeEventListener("touchstart",s)}}};export{P as a,g as e,E as s};
